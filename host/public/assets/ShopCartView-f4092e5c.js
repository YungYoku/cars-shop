import{_ as C,L as k,M as I,N as b,o as s,b as n,F as S,n as x,e as c,g as u,w as a,P as y,i as V,d as o,s as w,j as i,v as d,t as g,K as h,D as F,h as l,x as B,G as P}from"./main-3e49f720.js";const N={name:"shop-cart-view",setup:()=>({userStore:k(),savedStore:I(),favoriteStore:b()}),data(){return{alert:!1,brandId:"",modelId:""}},computed:{},watch:{cars(){this.hidePopup()}},methods:{isItMyFavorite(e){return!!this.userStore.user.favorite.find(v=>v.brandId===e.brandId&&v.modelId===e.modelId)},removeCar(){this.savedStore.remove(this.brandId,this.modelId),this.hidePopup()},addFavorite(e){this.favoriteStore.add(e.brandId,e.modelId)},removeFavorite(e){this.favoriteStore.remove(e.brandId,e.modelId)},showPopup(e){this.alert=!0,this.brandId=e.brandId,this.modelId=e.modelId},hidePopup(){this.alert=!1},buy(){alert("Платежная система не подключена :)")}}},M={class:"userCars"},T={key:0},A={key:1,class:"wrap"},D={class:"alertBottom"};function L(e,_,v,j,f,r){return s(),n("div",M,[e.savedStore.cars.length?(s(),n("div",A,[(s(!0),n(S,null,x(e.savedStore.cars,(t,p)=>(s(),u(P,{key:t.id+p,style:{marginBottom:"20px"},class:"mx-auto","min-width":"240",width:"100%"},{default:a(()=>[o(w,{src:t.image,class:"white--text align-end",height:"200px"},null,8,["src"]),o(g,null,{default:a(()=>[i(d(t.model),1)]),_:2},1024),o(h,{class:"pb-0"},{default:a(()=>[i(d(t.generation),1)]),_:2},1024),o(h,null,{default:a(()=>[i(d(t.price)+" ₽",1)]),_:2},1024),o(F,{class:"text--primary"},{default:a(()=>[c("div",null,"Страна: "+d(t.country),1),c("div",null,"Дверей: "+d(t.door),1),c("div",null,"Сидений: "+d(t.seat),1)]),_:2},1024),o(B,null,{default:a(()=>[o(l,{icon:"mdi-cart-off",text:"",onClick:m=>r.showPopup(t)},null,8,["onClick"]),r.isItMyFavorite(t)?(s(),u(l,{key:1,icon:"mdi-star-off",text:"",onClick:m=>r.removeFavorite(t)},null,8,["onClick"])):(s(),u(l,{key:0,icon:"mdi-star",text:"",onClick:m=>r.addFavorite(t)},null,8,["onClick"])),o(l,{icon:"mdi-cart-arrow-right",text:"",onClick:r.buy},null,8,["onClick"])]),_:2},1024)]),_:2},1024))),128))])):(s(),n("span",T,"Пусто")),c("div",D,[f.alert?(s(),u(y,{key:0,bottom:"20px",color:"error accent-4","colored-border":"",elevation:"2",transition:"scale-transition"},{default:a(()=>[o(l,{class:"button",color:"error",depressed:"",onClick:r.removeCar},{default:a(()=>[i(" Подтвердить ")]),_:1},8,["onClick"]),o(l,{class:"button",color:"success",depressed:"",onClick:r.hidePopup},{default:a(()=>[i(" Отменить ")]),_:1},8,["onClick"])]),_:1})):V("",!0)])])}const G=C(N,[["render",L],["__scopeId","data-v-fe10f869"]]);export{G as default};
