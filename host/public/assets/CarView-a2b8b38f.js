import{C as x,i as S}from"./CarsAreaCard-70f28ef2.js";import{_ as I,o as i,b as f,d as t,w as e,u as y,v as C,l as o,x as d,K as g,D as s,G as k,L as b,M as w,N as M,O as p,H as B,h as c,J as V,j as _,i as h,y as z,k as l}from"./main-c1366cb5.js";const F={name:"generation-info",props:{car:{type:Object,required:!0}}},q={class:"generationInfo"};function N(u,m,a,v,r,n){return i(),f("div",q,[t(k,{class:"mx-auto",width:"260px"},{default:e(()=>[t(y,{"lazy-src":require("../../assets/image.png"),src:a.car.image!=="-"?a.car.image:require("../../assets/image.png"),contain:"",height:"200px",width:"260px"},null,8,["lazy-src","src"]),t(C,null,{default:e(()=>[o(d(a.car.model),1)]),_:1}),t(g,null,{default:e(()=>[o(d(a.car.generation),1)]),_:1}),t(s,null,{default:e(()=>[o(" Высота: "+d(a.car.height),1)]),_:1}),t(s,null,{default:e(()=>[o(" Длина: "+d(a.car.width),1)]),_:1}),t(s,null,{default:e(()=>[o(" Объем двигателя: "+d(a.car.modification[0].volume),1)]),_:1}),t(s,null,{default:e(()=>[o(" Тип трансмиссии: "+d(a.car.modification[0].transmission),1)]),_:1}),t(s,null,{default:e(()=>[o(" Тип двигателя: "+d(a.car.modification[0].engine),1)]),_:1}),t(s,null,{default:e(()=>[o(" Корпус: "+d(a.car.modification[0].body),1)]),_:1})]),_:1})])}const A=I(F,[["render",N],["__scopeId","data-v-00486ac1"]]);const G={name:"car-view",components:{CarsAreaCard:x,GenerationInfo:A},setup:()=>({userStore:b(),savedStore:w(),favoriteStore:M()}),data(){return{model:0,car:{},image:S}},computed:{showing(){return this.car},isItMyCar(){return this.userStore.user.saved.find(u=>u.brandId===this.routeBrandId&&u.modelId===this.routeModelId)},isItMyFavorite(){return this.userStore.user.favorite.find(u=>u.brandId===this.routeBrandId&&u.modelId===this.routeModelId)},routeModelId(){return this.$route.query.modelId},routeBrandId(){return this.$route.query.brandId}},watch:{currentRouteQueryId(){this.load(this.routeBrandId,this.routeModelId)}},created(){this.favoriteStore.update().then(()=>{this.savedStore.update().then(()=>{this.load(this.routeBrandId,this.routeModelId)})})},methods:{addCar(){this.savedStore.add(this.routeBrandId,this.routeModelId)},removeCar(){this.savedStore.remove(this.routeBrandId,this.routeModelId)},addFavorite(){this.favoriteStore.add(this.routeBrandId,this.routeModelId)},removeFavorite(){this.favoriteStore.remove(this.routeBrandId,this.routeModelId)},async load(u,m){const a=await p(B(V,"cars","models"));if(a.exists()){const r=a.data()[u];this.car=r.find(n=>n.id===m)}}}},O={class:"car"},T={key:0};function j(u,m,a,v,r,n){return i(),f("div",O,[n.showing?(i(),c(k,{key:1,class:"mx-auto",height:"100%",width:"100%"},{default:e(()=>[t(y,{"lazy-src":r.image,src:r.car.image,class:"white--text align-end",height:"400px"},{default:e(()=>[t(C,null,{default:e(()=>[o(d(r.car.model),1)]),_:1})]),_:1},8,["lazy-src","src"]),t(z,null,{default:e(()=>[n.isItMyCar?(i(),c(_,{key:1,icon:"",onClick:n.removeCar},{default:e(()=>[t(h,{icon:"mdi-minus",size:"24px"})]),_:1},8,["onClick"])):(i(),c(_,{key:0,icon:"",onClick:n.addCar},{default:e(()=>[t(h,{icon:"mdi-plus",size:"24px"})]),_:1},8,["onClick"])),n.isItMyFavorite?(i(),c(_,{key:3,icon:"",onClick:n.removeFavorite},{default:e(()=>[t(h,{icon:"mdi-delete",size:"24px"})]),_:1},8,["onClick"])):(i(),c(_,{key:2,icon:"",onClick:n.addFavorite},{default:e(()=>[t(h,{icon:"mdi-bookmark",size:"24px"})]),_:1},8,["onClick"]))]),_:1}),t(g,{class:"pb-0"}),r.car.generation?(i(),c(s,{key:0},{default:e(()=>[o(" Поколение: "+d(r.car.generation),1)]),_:1})):l("",!0),r.car.volume?(i(),c(s,{key:1},{default:e(()=>[o(" Объем двигателя: "+d(r.car.volume),1)]),_:1})):l("",!0),r.car.transmission?(i(),c(s,{key:2},{default:e(()=>[o(" Тип трансмиссии: "+d(r.car.transmission),1)]),_:1})):l("",!0),r.car.engine?(i(),c(s,{key:3},{default:e(()=>[o(" Тип двигателя: "+d(r.car.engine),1)]),_:1})):l("",!0),r.car.body?(i(),c(s,{key:4},{default:e(()=>[o(" Корпус: "+d(r.car.body),1)]),_:1})):l("",!0)]),_:1})):(i(),f("span",T,"Пусто"))])}const H=I(G,[["render",j],["__scopeId","data-v-9172767e"]]);export{H as default};
