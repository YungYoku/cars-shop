import{_ as c,ay as d,az as b,H as o,I as p,o as f,b as V,d as n,w as i,k as _,l as w,J as u,Q as s,h as y,j as g}from"./main-3e49f720.js";function B(){return([1e7]+-1e3+-4e3+-8e3+-1e11).replace(/[018]/g,e=>(e^crypto.getRandomValues(new Uint8Array(1))[0]&15>>e/4).toString(16))}const v={name:"create-car-view",data(){return{brand:{description:null,image:null,name:null}}},computed:{brandNames(){return this.brands.map(e=>e.name)}},methods:{isFormValid(){let e=!0;return Object.keys(this.brand).forEach(l=>{this.brand[l]===null&&(e=!1)}),e},async createBrand(){if(!this.isFormValid())return;const e=B();await d(o(u,"cars","brands"),{brands:b({id:e,...this.brand})}),await d(o(u,"cars","models"),{[e]:[]}),await p("createBrand")}}},x={class:"wrap"};function h(e,a,l,k,r,m){return f(),V("div",x,[n(w,{onSubmit:_(m.createBrand,["prevent"])},{default:i(()=>[n(s,{modelValue:r.brand.description,"onUpdate:modelValue":a[0]||(a[0]=t=>r.brand.description=t),modelModifiers:{trim:!0},label:"Описание"},null,8,["modelValue"]),n(s,{modelValue:r.brand.image,"onUpdate:modelValue":a[1]||(a[1]=t=>r.brand.image=t),modelModifiers:{trim:!0},label:"Ссылка на изображение"},null,8,["modelValue"]),n(s,{modelValue:r.brand.name,"onUpdate:modelValue":a[2]||(a[2]=t=>r.brand.name=t),modelModifiers:{number:!0},label:"Название"},null,8,["modelValue"]),n(y,{type:"submit"},{default:i(()=>[g("Добавить")]),_:1})]),_:1},8,["onSubmit"])])}const M=c(v,[["render",h],["__scopeId","data-v-20444892"]]);export{M as default};
