import{C as f,i as y}from"./CarsAreaCard-bc061c89.js";import{_ as C,L as k,M as S,N as g,O as p,H as M,o as r,b as _,g as t,w as s,G as B,J as x,d as n,s as V,j as d,v as i,t as b,K as v,h as l,x as w,D as c,i as u}from"./main-3e49f720.js";const F={name:"car-view",components:{CarsAreaCard:f},setup:()=>({userStore:k(),savedStore:S(),favoriteStore:g()}),data(){return{model:0,car:{},image:y}},computed:{showing(){return this.car},isItMyCar(){return this.userStore.user.saved.find(o=>o.brandId===this.routeBrandId&&o.modelId===this.routeModelId)},isItMyFavorite(){return this.userStore.user.favorite.find(o=>o.brandId===this.routeBrandId&&o.modelId===this.routeModelId)},routeModelId(){return this.$route.query.modelId},routeBrandId(){return this.$route.query.brandId}},watch:{currentRouteQueryId(){this.load(this.routeBrandId,this.routeModelId)}},created(){this.favoriteStore.update().then(()=>{this.savedStore.update().then(()=>{this.load(this.routeBrandId,this.routeModelId)})})},methods:{addCar(){this.savedStore.add(this.routeBrandId,this.routeModelId)},removeCar(){this.savedStore.remove(this.routeBrandId,this.routeModelId)},addFavorite(){this.favoriteStore.add(this.routeBrandId,this.routeModelId)},removeFavorite(){this.favoriteStore.remove(this.routeBrandId,this.routeModelId)},async load(o,m){const h=await p(M(x,"cars","models"));if(h.exists()){const e=h.data()[o];this.car=e.find(a=>a.id===m)}}}},N={class:"car"},A={key:0};function T(o,m,h,I,e,a){return r(),_("div",N,[a.showing?(r(),t(B,{key:1,class:"mx-auto",height:"100%",width:"100%"},{default:s(()=>[n(V,{"lazy-src":e.image,src:e.car.image,class:"white--text align-end",height:"400px"},null,8,["lazy-src","src"]),n(b,null,{default:s(()=>[d(i(e.car.model),1)]),_:1}),n(v,null,{default:s(()=>[d(i(e.car.price)+" ₽",1)]),_:1}),n(w,null,{default:s(()=>[a.isItMyCar?(r(),t(l,{key:1,icon:"mdi-cart-off",onClick:a.removeCar},null,8,["onClick"])):(r(),t(l,{key:0,icon:"mdi-cart",onClick:a.addCar},null,8,["onClick"])),a.isItMyFavorite?(r(),t(l,{key:3,icon:"mdi-star-off",onClick:a.removeFavorite},null,8,["onClick"])):(r(),t(l,{key:2,icon:"mdi-star",onClick:a.addFavorite},null,8,["onClick"]))]),_:1}),n(v,{class:"pb-0"}),e.car.generation?(r(),t(c,{key:0},{default:s(()=>[d(" Поколение: "+i(e.car.generation),1)]),_:1})):u("",!0),e.car.volume?(r(),t(c,{key:1},{default:s(()=>[d(" Объем двигателя: "+i(e.car.volume),1)]),_:1})):u("",!0),e.car.transmission?(r(),t(c,{key:2},{default:s(()=>[d(" Тип трансмиссии: "+i(e.car.transmission),1)]),_:1})):u("",!0),e.car.engine?(r(),t(c,{key:3},{default:s(()=>[d(" Тип двигателя: "+i(e.car.engine),1)]),_:1})):u("",!0),e.car.body?(r(),t(c,{key:4},{default:s(()=>[d(" Корпус: "+i(e.car.body),1)]),_:1})):u("",!0)]),_:1})):(r(),_("span",A,"Пусто"))])}const D=C(F,[["render",T],["__scopeId","data-v-3d142acc"]]);export{D as default};
